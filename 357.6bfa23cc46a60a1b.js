"use strict";(self.webpackChunknudgyt_test_ng=self.webpackChunknudgyt_test_ng||[]).push([[357],{9357:(J,c,a)=>{a.r(c),a.d(c,{UserModule:()=>B});var m=a(6019),l=a(1659),t=a(3668),u=a(6636);let f=(()=>{class e{constructor(n,o){this.authService=n,this.router=o}canActivate(n,o){return!!this.authService.getAuthToken()||(this.router.navigate(["auth/login"]),!1)}canActivateChild(n,o){return this.canActivate(n,o)}}return e.\u0275fac=function(n){return new(n||e)(t.LFG(u.e),t.LFG(l.F0))},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var h=a(8977),p=a(2262),g=a(3719),v=a(3970),C=a(3067),U=a(2835),x=a(2997),L=a(4753),d=a(4522),T=a(8260);let Z=(()=>{class e{constructor(n,o){this.http=n,this.authService=o,this.apiUrl=T.N.backendUrl}listUser(n){const o=this.apiUrl+"/profile/"+n;let r=new d.WM({Authorization:`Bearer ${this.authService.getAuthToken()}`});return this.http.get(o,{headers:r})}}return e.\u0275fac=function(n){return new(n||e)(t.LFG(d.eN),t.LFG(u.e))},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var s=a(4176),y=a(7964);function A(e,i){1&e&&t._UZ(0,"mat-spinner")}function R(e,i){if(1&e&&(t.TgZ(0,"div",12),t.YNc(1,A,1,0,"mat-spinner",13),t.qZA()),2&e){const n=t.oxw();t.xp6(1),t.Q6J("ngIf",n.isLoadingResults)}}function M(e,i){1&e&&(t.TgZ(0,"th",14),t._uU(1,"Username"),t.qZA())}function S(e,i){if(1&e&&(t.TgZ(0,"td",15),t._uU(1),t.qZA()),2&e){const n=i.$implicit;t.xp6(1),t.Oqu(n.username)}}function D(e,i){1&e&&(t.TgZ(0,"th",14),t._uU(1,"Email"),t.qZA())}function O(e,i){if(1&e&&(t.TgZ(0,"td",15),t._uU(1),t.qZA()),2&e){const n=i.$implicit;t.xp6(1),t.Oqu(n.email)}}function Y(e,i){1&e&&(t.TgZ(0,"th",14),t._uU(1,"Created Date Time"),t.qZA())}function N(e,i){if(1&e&&(t.TgZ(0,"td",15),t._uU(1),t.qZA()),2&e){const n=i.$implicit;t.xp6(1),t.Oqu(n.createdDateTime)}}function w(e,i){1&e&&t._UZ(0,"tr",16)}function G(e,i){1&e&&t._UZ(0,"tr",17)}const Q=[{path:"",redirectTo:"list",pathMatch:"full"},{path:"list",component:(()=>{class e{constructor(n){this.userService=n,this.userList=[],this.displayedColumns=["username","email","createdDateTime"],this.resultsLength=0,this.isLoadingResults=!0,this.isRateLimitReached=!1}ngOnInit(){}ngAfterViewInit(){this.sort.sortChange.subscribe(()=>this.paginator.pageIndex=0),(0,g.T)(this.sort.sortChange,this.paginator.page).pipe((0,v.O)({}),(0,C.w)(()=>(this.isLoadingResults=!0,this.userService.listUser(this.paginator.pageIndex).pipe((0,U.K)(()=>(0,x.of)(null))))),(0,L.U)(n=>(this.isLoadingResults=!1,this.isRateLimitReached=null===n,null===n?[]:(this.resultsLength=n.totalCount,n.data)))).subscribe(n=>this.userList=n)}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(Z))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-user-list"]],viewQuery:function(n,o){if(1&n&&(t.Gf(h.NW,5),t.Gf(p.YE,5)),2&n){let r;t.iGM(r=t.CRH())&&(o.paginator=r.first),t.iGM(r=t.CRH())&&(o.sort=r.first)}},decls:16,vars:6,consts:[[1,"example-container","mat-elevation-z8"],["class","example-loading-shade",4,"ngIf"],[1,"example-table-container"],["mat-table","","matSort","","matSortActive","created","matSortDisableClear","","matSortDirection","desc",1,"example-table",3,"dataSource"],["matColumnDef","username"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","email"],["matColumnDef","createdDateTime"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"length","pageSize"],[1,"example-loading-shade"],[4,"ngIf"],["mat-header-cell",""],["mat-cell",""],["mat-header-row",""],["mat-row",""]],template:function(n,o){1&n&&(t.TgZ(0,"div",0),t.YNc(1,R,2,1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"table",3),t.ynx(4,4),t.YNc(5,M,2,0,"th",5),t.YNc(6,S,2,1,"td",6),t.BQk(),t.ynx(7,7),t.YNc(8,D,2,0,"th",5),t.YNc(9,O,2,1,"td",6),t.BQk(),t.ynx(10,8),t.YNc(11,Y,2,0,"th",5),t.YNc(12,N,2,1,"td",6),t.BQk(),t.YNc(13,w,1,0,"tr",9),t.YNc(14,G,1,0,"tr",10),t.qZA(),t.qZA(),t._UZ(15,"mat-paginator",11),t.qZA()),2&n&&(t.xp6(1),t.Q6J("ngIf",o.isLoadingResults||o.isRateLimitReached),t.xp6(2),t.Q6J("dataSource",o.userList),t.xp6(10),t.Q6J("matHeaderRowDef",o.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",o.displayedColumns),t.xp6(1),t.Q6J("length",o.resultsLength)("pageSize",10))},directives:[m.O5,s.BZ,p.YE,s.w1,s.fO,s.Dz,s.as,s.nj,h.NW,y.Ou,s.ge,s.ev,s.XQ,s.Gk],styles:[".example-container[_ngcontent-%COMP%]{position:relative;margin-top:15%}.example-table-container[_ngcontent-%COMP%]{position:relative;min-height:200px;max-height:400px;overflow:auto}table[_ngcontent-%COMP%]{width:100%}.example-loading-shade[_ngcontent-%COMP%]{position:absolute;top:0;left:0;bottom:56px;right:0;background:rgba(0,0,0,.15);z-index:1;display:flex;align-items:center;justify-content:center}.example-rate-limit-reached[_ngcontent-%COMP%]{max-width:360px;text-align:center}.mat-column-number[_ngcontent-%COMP%], .mat-column-state[_ngcontent-%COMP%]{max-width:64px}.mat-column-created[_ngcontent-%COMP%]{max-width:124px}"]}),e})(),canActivate:[f]}];let z=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[l.Bz.forChild(Q)],l.Bz]}),e})();var F=a(622),I=a(9667);let B=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[m.ez,F.q,I.o9,z]]}),e})()}}]);